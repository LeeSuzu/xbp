<!DOCTYPE html>
<html lang="jp">
<head>
    <!-- ⑥↓タイトルを変えてみよう -->
    <title>最終課題-Project note</title>
    <!-- ⑤スタイルシートの設定をしよう --><link rel="stylesheet" href="./css/gray.css">
    <body>
      
</head>

<body><div style=" border: 4px solid #ffffff; padding: 2px;"><div style=" background: #bababa; font-size: 100%; padding: 20px;"><h1>最終課題-Project note</h1></div></body>


    <div>
        
         <!-- ①↓に文字を書いてみよう -->
         <div>
        <br>
            <h1 style="color:rgb(60, 60, 60)">目覚まし時計⏰</h1>
        <br>
        <h2 style="color:rgb(107, 118, 165)">共同制作者</h2>
        　　　<a href="https://ljljlrll.github.io/xbp/">タッカンマリ</a><br>
        　　　<a href="https://enfp-t.github.io/xbp/">muku</a><br>
        <br>
        <h2 style="color:rgb(102, 102, 102)">使用した "FabLab" の機械</h2>
        <br>
        　　　・３Dプリンター<br>
        <br>
        <br>
        <img src="../images/3D.jpeg" width="50%"><br>
        <br>
            <br>
            <h2 style="color:rgb(103, 121, 177)">使用したモノ</h2>
            <br>
            ・Arduino Uno<br>
            ・USBケーブル<br>
            ・ブレッドボード<br>
            ・リアルタイムクロックモジュール　（DS1302）<br>
            ・マザーボード内部ミニスピーカー　（DR-YM-038）<br>
            ・ジャンパーワイヤー　（Male-to-Female）<br>
            ・ジャンパーワイヤー　（Male-to-Male）<br>
            ・パソコン　（MacBook Air）<br>
            ・リチウムコイン電池　（CR 2032）<br>
            ・USBハブ-Type-C　（U3HC-A430BXBK）<br>
            ・目覚まし時計ケース　（3Dプリンターで制作）<br>
            <br>
            <br>
        <h2 style="color:rgb(103, 121, 177)">プロジェクトマネジメント</h2>
        <h3 style="color:rgb(103, 121, 177)">（プロセスメモープロセス・必要なモノやステップ・やるべきこと）</h3>
            <br>
            ・・・・・・・・・・・・・・・・・・・・<br>
            ■　は考えないといけないこと、疑問等<br>
            ●　は具体的にやること<br>
            →　はやったこと<br>
            ・・・・・・・・・・・・・・・・・・・・<br>
            <br>
            <br>
            ■　現役大学生に寄り添ったものを作りたい！<br>
            <br>
            <br>
            ■　現役大学生は何が不便だろうか。（やはり朝、？）<br>
            ●　現役の大学生にアンケートをとる。<br>
            ●　このサービスを作る上で必要なものを買う。<br>
            <br>
            <br>
            <img src="../de34/images/6/1.jpeg" width="70%">
            <img src="../de34/images/6/2.jpeg" width="70%"><br>
            <br>
            <br>
            →　マザーボード内部ミニスピーカー　（DR-YM-038）の購入<br>
            →　リアルタイムクロックモジュール　（DS1302）の購入<br>
            →　ジャンプワイヤーの調達<br>
            →　公式LINEアカウントを開設<br>
            <br>
            <br> 
            ●　電車の交通情報のAPIを取得するために、申請をする。
            <br>
            <br>
            【6月25日】<br>
            <br>
            →　電車の運行時刻のAPIwo使用しようとして、コードまで取得しましたが、上手く情報を読み取ることができず、失敗。<br>
            ■　APIが使えないため、最初に考えていたサービスは期限内での完成が難しい。<br>
            ■　他の案を考える。（目覚まし時計はどうだろうか。）<br>
            <br>
            <br>
            <img src="../de34/images/6/3.jpeg" width="50%"><br>
            <br>
            <br>
            <br>
            【7月1日】<br>
            <br>
            →　目覚まし時計のArduinoコード完成。<br>
            <br>
            <br>
            <code>
                <ol style="list-style:decimal-leading-zero outside;in-left:0;padding-left:36px;margin:0;background-color:#EEF;color:#000;">
                <li style="background-color:#EFF;">#include &lt;ThreeWire.h&gt;</li>
                <li style="background-color:#EEF;">#include &lt;RtcDS1302.h&gt;</li>
                <li style="background-color:#EFF;"></li>
                <li style="background-color:#EEF;">const int IO = 4;    // DAT</li>
                <li style="background-color:#EFF;">const int SCLK = 5;  // CLK</li>
                <li style="background-color:#EEF;">const int CE = 2;    // RST</li>
                <li style="background-color:#EFF;">const int buzzerPin = 8; // ピエゾブザーの接続ピン</li>
                <li style="background-color:#EEF;"></li>
                <li style="background-color:#EFF;">ThreeWire myWire(4, 5, 2);  // IO, SCLK, CE</li>
                <li style="background-color:#EEF;">RtcDS1302&lt;ThreeWire&gt; Rtc(myWire);</li>
                <li style="background-color:#EFF;"></li>
                <li style="background-color:#EEF;">void setup() {</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;pinMode(buzzerPin, OUTPUT); // ピエゾブザーのピンを出力に設定</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;Serial.begin(9600);</li>
                <li style="background-color:#EFF;"></li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;Serial.print("compiled: ");</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;Serial.print(__DATE__);</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;Serial.println(__TIME__);</li>
                <li style="background-color:#EFF;"></li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;Rtc.Begin();</li>
                <li style="background-color:#EFF;"></li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;RtcDateTime compiled = RtcDateTime(__DATE__, __TIME__);</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;printDateTime(compiled);</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;Serial.println();</li>
                <li style="background-color:#EFF;"></li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;if (!Rtc.IsDateTimeValid()) {</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("RTC lost confidence in the DateTime!");</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;Rtc.SetDateTime(compiled);</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;}</li>
                <li style="background-color:#EEF;"></li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;if (Rtc.GetIsWriteProtected()) {</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("RTC was write protected, enabling writing now");</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;Rtc.SetIsWriteProtected(false);</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;}</li>
                <li style="background-color:#EFF;"></li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;if (!Rtc.GetIsRunning()) {</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("RTC was not actively running, starting now");</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;Rtc.SetIsRunning(true);</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;}</li>
                <li style="background-color:#EEF;"></li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;RtcDateTime now = Rtc.GetDateTime();</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;if (now &lt; compiled) {</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("RTC is older than compile time!  (Updating DateTime)");</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;Rtc.SetDateTime(compiled);</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;} else if (now &gt; compiled) {</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("RTC is newer than compile time. (this is expected)");</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;} else if (now == compiled) {</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("RTC is the same as compile time! (not expected but all is fine)");</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;}</li>
                <li style="background-color:#EEF;">}</li>
                <li style="background-color:#EFF;"></li>
                <li style="background-color:#EEF;">void loop() {</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;RtcDateTime now = Rtc.GetDateTime();</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;printDateTime(now);</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;Serial.println();</li>
                <li style="background-color:#EEF;"></li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;if (!now.IsValid()) {</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;Serial.println("RTC lost confidence in the DateTime!");</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;}</li>
                <li style="background-color:#EEF;"></li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;// 設定時刻 (例: 12:00:00)</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;int alarmHour = 22;</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;int alarmMinute = 13;</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;int alarmSecond = 0;</li>
                <li style="background-color:#EFF;"></li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;if (now.Hour() == alarmHour &amp;&amp; now.Minute() == alarmMinute &amp;&amp; now.Second() == alarmSecond) {</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;// 5秒間音を鳴らす</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;tone(buzzerPin, 2000, 5000); // 2kHzの音を5秒間鳴らす</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;}</li>
                <li style="background-color:#EEF;"></li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;delay(1000);  // one second</li>
                <li style="background-color:#EEF;">}</li>
                <li style="background-color:#EFF;"></li>
                <li style="background-color:#EEF;">#define countof(a) (sizeof(a) / sizeof(a[0]))</li>
                <li style="background-color:#EFF;"></li>
                <li style="background-color:#EEF;">void printDateTime(const RtcDateTime&amp; dt) {</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;char datestring[20];</li>
                <li style="background-color:#EEF;"></li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;snprintf_P(datestring,</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;countof(datestring),</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PSTR("%02u/%02u/%04u %02u:%02u:%02u"),</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dt.Month(),</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dt.Day(),</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dt.Year(),</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dt.Hour(),</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dt.Minute(),</li>
                <li style="background-color:#EFF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dt.Second());</li>
                <li style="background-color:#EEF;">&nbsp;&nbsp;Serial.print(datestring);</li>
                <li style="background-color:#EFF;">}</li>
                </ol></code>
            <br>
            <br>
            →　3Dプリンターで外側の入れ物を作成。<br>
            <br>
            <img src="../de34/images/6/4.jpeg" width="50%"><br>
            <br>
        <br>
        <br> <h2 style="color:rgb(103, 121, 177)">紹介動画</h2>
        <br>
    <iframe width="672" height="378" src="https://www.youtube.com/embed/UPmsdZ9-2XA?si=AKyYP2T_vh25tN9L" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    <br>
    <br>
    <br>
    <br><h2 style="color:rgb(103, 121, 177)">発表資料</h2>
    <iframe loading="lazy" src="../de34/files/XBP最終課題.pdf" width="1000px" height="600px" style="border: 0;"></iframe>
    <br>
    <br>
    <br>
         </div>
         


 
    </div>


</body>
</html>